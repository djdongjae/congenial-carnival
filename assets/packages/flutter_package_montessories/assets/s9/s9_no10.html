<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=no">
    <title>몬테소리 콘텐츠</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        svg {
            cursor: crosshair;
            width: 80vw;
            /* 또는 예: 800px */
            height: 80vh;
            /* 또는 예: 600px */
            max-width: 1000px;
            max-height: 800px;
        }
    </style>
</head>

<body>

    <svg id="paintSvg" data-name="paintSvg" xmlns="http://www.w3.org/2000/svg" version="1.1"
        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 546.8 355.7">
        <!-- Generator: Adobe Illustrator 29.4.0, SVG Export Plug-In . SVG Version: 2.1.0 Build 152)  -->
        <defs>
            <style>
                .st0 {
                    fill: #9c1e23;
                }

                .st1 {
                    fill: url(#_무제_그라디언트);
                }

                .st2 {
                    fill: #231815;
                }

                .st3 {
                    stroke-miterlimit: 10;
                    stroke-width: .5px;
                }

                .st3,
                .st4,
                .st5 {
                    fill: #fff;
                }

                .st3,
                .st5,
                .st6 {
                    stroke: #231815;
                }

                .st7 {
                    fill: #d1bf9c;
                }

                .st5 {
                    stroke-width: .5px;
                }

                .st5,
                .st6 {
                    stroke-miterlimit: 10;
                }

                .st8 {
                    display: none;
                }

                .st6 {
                    fill: white;
                    stroke-width: .7px;
                }
            </style>
            <radialGradient id="_무제_그라디언트" data-name="무제 그라디언트" cx="7841.7" cy="-458.3" fx="7841.7" fy="-458.3" r="8.9"
                gradientTransform="translate(7359.6 -71.1) rotate(-180)" gradientUnits="userSpaceOnUse">
                <stop offset=".2" stop-color="#fdf7d3" />
                <stop offset=".3" stop-color="#faf1ca" />
                <stop offset=".4" stop-color="#f2e1b3" />
                <stop offset=".5" stop-color="#e6c78e" />
                <stop offset=".7" stop-color="#d6a35a" />
                <stop offset=".7" stop-color="#d49e53" />
                <stop offset=".9" stop-color="#bc7b29" />
                <stop offset="1" stop-color="#d49e53" />
            </radialGradient>
        </defs>
        <!-- 마스킹 그룹 -->
        <defs>
            <clipPath id="clipPath1">
                <use id="clipRef1" href="#fillArea1" />
            </clipPath>
            <clipPath id="clipPath2">
                <use id="clipRef2" href="#fillArea2" />
            </clipPath>
            <clipPath id="clipPath3">
                <use id="clipRef3" href="#fillArea3" />
            </clipPath>
            <clipPath id="clipPath4">
                <use id="clipRef4" href="#fillArea4" />
            </clipPath>
            <clipPath id="clipPath5">
                <use id="clipRef5" href="#fillArea5" />
            </clipPath>
            <clipPath id="clipPath6">
                <use id="clipRef6" href="#fillArea6" />
            </clipPath>
            <clipPath id="clipPath7">
                <use id="clipRef7" href="#fillArea7" />
            </clipPath>
            <clipPath id="clipPath8">
                <use id="clipRef8" href="#fillArea8" />
            </clipPath>
            <clipPath id="clipPath9">
                <use id="clipRef9" href="#fillArea9" />
            </clipPath>
            <clipPath id="clipPath10">
                <use id="clipRef10" href="#fillArea10" />
            </clipPath>
            <clipPath id="clipPath11">
                <use id="clipRef11" href="#fillArea11" />
            </clipPath>
            <clipPath id="clipPath12">
                <use id="clipRef12" href="#fillArea12" />
            </clipPath>
            <clipPath id="clipPath13">
                <use id="clipRef13" href="#fillArea13" />
            </clipPath>
            <clipPath id="clipPath14">
                <use id="clipRef14" href="#fillArea14" />
            </clipPath>
            <clipPath id="clipPath15">
                <use id="clipRef15" href="#fillArea15" />
            </clipPath>
        </defs>
        <rect class="st7" x="11.1" y="86.3" width="197.9" height="196.6" rx="22" ry="22" />
        <g>
            <path class="st0"
                d="M84.1,160.7c-.3-1.9-.7-3.8-1.3-5.6-.6-1.8-1.4-3.4-2.3-4.9-.9-1.4-2.1-2.4-3.5-3.2s-2.9-1.2-4.8-1.2c-2.7,0-5.1.9-7.2,2.8s-3.8,4.1-5.3,6.8c-1.5,2.8-2.8,5.8-3.7,9.1s-1.6,6.4-1.9,9.2c2.7-1.9,5.6-3.3,8.7-4.3,3-.9,6.5-1.4,10.3-1.4,5.5,0,10.3.9,14.6,2.8s7.8,4.5,10.7,7.7c2.8,3.3,5,7.1,6.4,11.6,1.5,4.4,2.2,9.2,2.2,14.3s-.6,8.2-1.8,12.7-3.2,8.5-6,12.3c-2.8,3.7-6.6,6.7-11.3,9.1s-10.6,3.6-17.6,3.6-14-1.5-18.9-4.6-8.7-7.1-11.6-12.1c-2.8-5-4.8-10.7-5.8-17s-1.5-12.6-1.5-19,.2-10,.7-15,1.3-9.7,2.5-14.3,2.8-8.8,4.7-12.6,4.4-7.2,7.4-10.1,6.5-5.1,10.6-6.7c4.1-1.6,8.8-2.4,14.2-2.4,9.3,0,16.7,2.6,22.2,7.9s8.7,13.4,9.8,24.2h-20.6v.3ZM71.2,185.7c-1.9,0-3.8.4-5.6,1.1-1.9.7-3.6,1.7-5.1,2.9-1.6,1.2-3,2.5-4.2,4s-2,3-2.5,4.5c.2,3.6.7,7,1.5,10.2.9,3.2,2.1,6,3.6,8.4s3.2,4.3,5.3,5.7,4.4,2.1,6.9,2.1,4.4-.5,6.3-1.6,3.5-2.5,4.8-4.4c1.3-1.8,2.3-3.8,3-6.1s1.1-4.7,1.1-7.1-.3-4.9-1-7.3c-.7-2.4-1.7-4.5-2.9-6.3s-2.9-3.3-4.7-4.4-4-1.7-6.4-1.7h-.1Z" />
            <path class="st0"
                d="M135.4,204.9c0,6.8,1.3,11.8,4,15.1,2.6,3.3,6.4,4.9,11.3,4.9s9.6-1.4,12.6-4.1c3-2.7,4.6-6.8,4.6-12.4s-1.2-9.5-3.7-12.5c-2.5-3.1-6.3-4.6-11.4-4.6h-14v-17.2h14c2.2,0,4.1-.5,5.7-1.4s2.9-2.1,3.9-3.7,1.8-3.2,2.2-5,.6-3.7.6-5.6c0-3.6-1.3-6.6-3.6-9.1s-5.9-3.7-10.7-3.7-8,1.6-10.6,4.7-3.9,7.9-3.9,14.4h-21.1c-.2-11.8,2.9-20.8,9.1-26.9s15.4-9.2,27.4-9.2,8.6.5,12.7,1.6,7.8,2.7,11.1,5c3.2,2.4,5.7,5.5,7.7,9.3s2.9,8.4,2.9,13.9-1,8.8-3,12.9-5.1,7.5-9.2,10c2,1,3.8,2.3,5.6,3.8s3.3,3.3,4.7,5.3,2.4,4.5,3.2,7.2,1.2,5.8,1.2,9.4c0,5.6-.8,10.6-2.2,15s-3.8,8.1-7,11.2-7.2,5.4-12,7-10.6,2.4-17.3,2.3c-5.6,0-10.6-.9-15-2.4s-8.2-3.8-11.3-6.8c-3.2-3.1-5.6-7-7.3-11.7s-2.6-10.2-2.6-16.5h21.5v-.2Z" />
        </g>
        <circle class="st1" cx="-482.3" cy="389.6" r="7" />
        <g class="st8">
            <g>
                <path class="st4"
                    d="M310,157.4c-1.1.7-1.9,1.7-2.2,3s0,2.5.6,3.6c.7,1.1,1.7,1.9,3,2.2,1.3.3,2.5,0,3.6-.6,1.1-.7,1.9-1.7,2.2-3s0-2.5-.6-3.6c-.7-1.1-1.7-1.9-3-2.2-1.3-.3-2.5,0-3.6.6Z" />
                <path class="st4"
                    d="M316.6,148.7c-.7-1.1-1.7-1.9-3-2.2-.4,0-.7,0-1.1,0-.9,0-1.8.2-2.5.7-1.1.7-1.9,1.7-2.2,3s0,2.5.6,3.6c.7,1.1,1.7,1.9,3,2.2,1.3.3,2.5,0,3.6-.6,1.1-.7,1.9-1.7,2.2-3s0-2.5-.6-3.6Z" />
                <path class="st2"
                    d="M317.7,152.4c.3-1.4,0-2.8-.7-4s-1.8-2-3.1-2.3c.5,0,1-.3,1.4-.6,1.2-.7,2.1-1.9,2.4-3.3.3-1.4,0-2.8-.7-4s-1.9-2-3.2-2.3c1.8-.5,3.4-1.9,3.8-3.9.3-1.4,0-2.8-.7-4s-1.8-2-3.2-2.3c.5,0,1-.3,1.4-.6,1.2-.7,2.1-1.9,2.4-3.3.7-2.8-1-5.6-3.8-6.4,1.8-.5,3.4-1.9,3.8-3.9.7-2.8-1-5.6-3.8-6.4.5,0,1-.3,1.4-.6,1.2-.7,2.1-1.9,2.4-3.3.3-1.4,0-2.8-.7-4s-1.9-2-3.2-2.3c1.8-.5,3.4-1.9,3.8-3.9.3-1.4,0-2.8-.7-4s-1.8-2-3.2-2.3c.5,0,1-.3,1.4-.6,1.2-.7,2.1-1.9,2.4-3.3.3-1.4,0-2.8-.7-4s-1.8-2-3.2-2.3c.5-.1,1-.3,1.4-.6,1.2-.7,2.1-1.9,2.4-3.3.3-1.4,0-2.8-.7-4s-1.9-2.1-3.3-2.4c-2.9-.7-5.7,1.1-6.4,4-.7,2.8,1.1,5.6,3.8,6.4-.5.1-1,.3-1.5.6-1.2.7-2.1,1.9-2.4,3.3-.3,1.4,0,2.8.7,4s1.8,2,3.2,2.3c-1.8.5-3.3,1.9-3.8,3.9-.7,2.8,1.1,5.6,3.8,6.4-.5,0-1,.3-1.5.6-1.2.7-2.1,1.9-2.4,3.3-.7,2.8,1,5.6,3.8,6.4-1.8.5-3.3,1.9-3.8,3.9-.7,2.8,1,5.6,3.8,6.4-1.8.5-3.3,1.9-3.8,3.9-.3,1.4,0,2.8.7,4s1.9,2,3.2,2.3c-.5,0-1,.3-1.5.6-1.2.7-2.1,1.9-2.4,3.3-.7,2.8,1.1,5.6,3.8,6.4-.5,0-1,.3-1.5.6-1.2.7-2.1,1.9-2.4,3.3-.3,1.4,0,2.8.7,4s1.9,2,3.2,2.3c-.5,0-1,.3-1.4.6-1.2.7-2.1,1.9-2.4,3.3-.3,1.4,0,2.8.7,4s1.9,2,3.2,2.3c-.5,0-1,.3-1.5.6-1.2.7-2.1,1.9-2.4,3.3s0,2.8.7,4,1.9,2.1,3.3,2.4c.4,0,.8,0,1.2,0,2.4,0,4.6-1.7,5.2-4.1.7-2.8-1.1-5.6-3.8-6.4,1.8-.5,3.4-1.9,3.8-3.9l.6-.2ZM316.6,158.9c.7,1.1.9,2.4.6,3.6-.3,1.3-1.1,2.3-2.2,3-1.1.7-2.4.9-3.6.6-1.3-.3-2.3-1.1-3-2.2s-.9-2.4-.6-3.6c.3-1.3,1.1-2.3,2.2-3,1.1-.7,2.4-.9,3.6-.6,1.3.3,2.3,1.1,3,2.2ZM315.1,155.3c-1.1.7-2.4.9-3.6.6-1.3-.3-2.3-1.1-3-2.2s-.9-2.4-.6-3.6,1.1-2.3,2.2-3c.8-.5,1.6-.7,2.5-.7s.7,0,1.1,0c1.3.3,2.3,1.1,3,2.2s.9,2.4.6,3.6-1.1,2.3-2.2,3ZM308.4,143.5c-.7-1.1-.9-2.4-.6-3.6.3-1.3,1.1-2.3,2.2-3,.8-.5,1.6-.7,2.5-.7s.7,0,1.1,0c1.3.3,2.3,1.1,3,2.2s.9,2.4.6,3.6-1.1,2.3-2.2,3c-1.1.7-2.4.9-3.6.6-1.3-.3-2.3-1.1-3-2.2ZM308.4,133.2c-.7-1.1-.9-2.4-.6-3.6s1.1-2.3,2.2-3c.8-.5,1.6-.7,2.5-.7s.7,0,1.1,0c1.3.3,2.3,1.1,3,2.2s.9,2.4.6,3.6-1.1,2.3-2.2,3c-1.1.7-2.4.9-3.6.6-1.3-.3-2.3-1.1-3-2.2ZM308.4,122.9c-.7-1.1-.9-2.4-.6-3.6.5-2.2,2.5-3.7,4.7-3.7s.7,0,1.1,0c1.3.3,2.3,1.1,3,2.2s.9,2.4.6,3.6-1.1,2.3-2.2,3c-1.1.7-2.4.9-3.6.6-1.3-.3-2.3-1.1-3-2.2ZM307.8,109c.6-2.6,3.2-4.2,5.8-3.6,2.6.6,4.2,3.2,3.6,5.8-.6,2.6-3.2,4.2-5.8,3.6s-4.2-3.2-3.6-5.8ZM307.8,98.8c.3-1.3,1.1-2.3,2.2-3,.8-.5,1.6-.7,2.5-.7s.7,0,1.1,0c1.3.3,2.3,1.1,3,2.2s.9,2.4.6,3.6c-.3,1.3-1.1,2.3-2.2,3-1.1.7-2.4.9-3.6.6-2.6-.6-4.2-3.2-3.6-5.8ZM307.8,88.5c.6-2.6,3.2-4.2,5.8-3.6,1.3.3,2.3,1.1,3,2.2.7,1.1.9,2.4.6,3.6-.6,2.6-3.2,4.2-5.8,3.6-2.6-.6-4.2-3.2-3.6-5.8ZM308.4,81.9c-.7-1.1-.9-2.4-.6-3.6s1.1-2.3,2.2-3c1.1-.7,2.4-.9,3.6-.6,1.3.3,2.3,1.1,3,2.2s.9,2.4.6,3.6c-.3,1.3-1.1,2.3-2.2,3-1.1.7-2.4.9-3.6.6-1.3-.3-2.3-1.1-3-2.2ZM308.4,71.6c-.7-1.1-.9-2.4-.6-3.6.6-2.6,3.2-4.2,5.8-3.6,1.3.3,2.3,1.1,3,2.2s.9,2.4.6,3.6-1.1,2.3-2.2,3c-1.1.7-2.4.9-3.6.6s-2.3-1.1-3-2.2Z" />
                <path class="st4"
                    d="M315.1,145c1.1-.7,1.9-1.7,2.2-3s0-2.5-.6-3.6c-.7-1.1-1.7-1.9-3-2.2-.4,0-.7,0-1.1,0-.9,0-1.8.2-2.5.7-1.1.7-1.9,1.7-2.2,3s0,2.5.6,3.6c.7,1.1,1.7,1.9,3,2.2,1.3.3,2.5,0,3.6-.6Z" />
                <path class="st4"
                    d="M315,134.8c1.1-.7,1.9-1.7,2.2-3s0-2.5-.6-3.6-1.7-1.9-3-2.2c-.4,0-.7,0-1.1,0-.9,0-1.8.2-2.5.7-1.1.7-1.9,1.7-2.2,3s0,2.5.6,3.6c.7,1.1,1.7,1.9,3,2.2,1.3.3,2.5,0,3.6-.6Z" />
                <path class="st4"
                    d="M315.1,124.5c1.1-.7,1.9-1.7,2.2-3s0-2.5-.6-3.6c-.7-1.1-1.7-1.9-3-2.2-.4,0-.7,0-1.1,0-2.2,0-4.2,1.5-4.7,3.7-.3,1.3,0,2.5.6,3.6.7,1.1,1.7,1.9,3,2.2,1.3.3,2.5,0,3.6-.6Z" />
                <path class="st4" d="M317.2,111.2c.6-2.6-1-5.2-3.6-5.8s-5.2,1-5.8,3.6,1,5.2,3.6,5.8,5.2-1,5.8-3.6Z" />
                <path class="st4"
                    d="M315.1,104c1.1-.7,1.9-1.7,2.2-3s0-2.5-.6-3.6-1.7-1.9-3-2.2c-.4,0-.7,0-1.1,0-.9,0-1.8.2-2.5.7-1.1.7-1.9,1.7-2.2,3-.6,2.6,1,5.2,3.6,5.8s2.5,0,3.6-.6Z" />
                <path class="st4"
                    d="M317.2,90.7c.3-1.3,0-2.5-.6-3.6-.7-1.1-1.7-1.9-3-2.2-2.6-.6-5.2,1-5.8,3.6s1,5.2,3.6,5.8,5.2-1,5.8-3.6Z" />
                <path class="st4"
                    d="M315,83.4c1.1-.7,1.9-1.7,2.2-3s0-2.5-.6-3.6-1.7-1.9-3-2.2c-1.2-.3-2.5,0-3.6.6-1.1.7-1.9,1.7-2.2,3s0,2.5.6,3.6c.7,1.1,1.7,1.9,3,2.2s2.5,0,3.6-.6Z" />
                <path class="st4"
                    d="M315.1,73.2c1.1-.7,1.9-1.7,2.2-3s0-2.5-.6-3.6-1.7-1.9-3-2.2c-2.6-.6-5.2,1-5.8,3.6-.3,1.3,0,2.5.6,3.6.7,1.1,1.7,1.9,3,2.2s2.5,0,3.6-.6Z" />
            </g>
            <circle class="st5" cx="352.5" cy="161.5" r="5.1" />
            <circle class="st5" cx="352.5" cy="151.2" r="5.1" />
            <circle class="st5" cx="352.5" cy="140.9" r="5.1" />
            <circle class="st5" cx="352.5" cy="130.7" r="5.1" />
            <circle class="st5" cx="352.5" cy="120.4" r="5.1" />
            <circle class="st5" cx="352.5" cy="110.1" r="5.1" />
            <circle class="st5" cx="352.6" cy="99.9" r="5.1" />
            <circle class="st5" cx="352.5" cy="89.6" r="5.1" />
            <circle class="st5" cx="352.5" cy="79.3" r="5.1" />
            <circle class="st5" cx="352.5" cy="69.1" r="5.1" />
            <circle class="st5" cx="392.6" cy="161.5" r="5.1" />
            <circle class="st5" cx="392.6" cy="151.2" r="5.1" />
            <circle class="st5" cx="392.6" cy="140.9" r="5.1" />
            <circle class="st5" cx="392.6" cy="130.7" r="5.1" />
            <circle class="st5" cx="392.6" cy="120.4" r="5.1" />
            <circle class="st5" cx="392.6" cy="110.1" r="5.1" />
            <circle class="st5" cx="392.6" cy="99.9" r="5.1" />
            <circle class="st5" cx="392.6" cy="89.6" r="5.1" />
            <circle class="st5" cx="392.6" cy="79.3" r="5.1" />
            <circle class="st5" cx="392.6" cy="69" r="5.1" />
            <circle class="st5" cx="312.5" cy="282.9" r="5.1" />
            <circle class="st5" cx="312.5" cy="272.6" r="5.1" />
            <circle class="st5" cx="312.5" cy="262.3" r="5.1" />
            <circle class="st5" cx="312.5" cy="252.1" r="5.1" />
            <circle class="st5" cx="312.5" cy="241.8" r="5.1" />
            <circle class="st5" cx="312.5" cy="231.5" r="5.1" />
            <circle class="st5" cx="312.5" cy="221.2" r="5.1" />
            <circle class="st5" cx="312.5" cy="211" r="5.1" />
            <circle class="st5" cx="312.5" cy="200.7" r="5.1" />
            <circle class="st5" cx="312.5" cy="190.4" r="5.1" />
            <circle class="st5" cx="352.5" cy="282.9" r="5.1" />
            <circle class="st5" cx="352.5" cy="272.6" r="5.1" />
            <circle class="st5" cx="352.5" cy="262.3" r="5.1" />
            <circle class="st5" cx="352.6" cy="252.1" r="5.1" />
            <circle class="st5" cx="352.5" cy="241.8" r="5.1" />
            <circle class="st5" cx="352.5" cy="231.5" r="5.1" />
            <circle class="st5" cx="352.5" cy="221.2" r="5.1" />
            <circle class="st5" cx="352.5" cy="211" r="5.1" />
            <circle class="st5" cx="352.5" cy="200.7" r="5.1" />
            <circle class="st5" cx="352.5" cy="190.4" r="5.1" />
            <circle class="st5" cx="392.6" cy="282.9" r="5.1" />
            <circle class="st5" cx="392.6" cy="272.6" r="5.1" />
            <circle class="st5" cx="392.6" cy="262.3" r="5.1" />
            <circle class="st5" cx="392.6" cy="252" r="5.1" />
            <circle class="st5" cx="392.6" cy="241.8" r="5.1" />
            <circle class="st5" cx="392.6" cy="231.5" r="5.1" />
            <circle class="st5" cx="392.6" cy="221.2" r="5.1" />
            <circle class="st5" cx="392.6" cy="211" r="5.1" />
            <circle class="st5" cx="392.6" cy="200.7" r="5.1" />
            <circle class="st5" cx="392.6" cy="190.4" r="5.1" />
            <g>
                <circle class="st4" cx="440.5" cy="72.7" r="9.4" />
                <path class="st2"
                    d="M440.5,82.3c-.7,0-1.5,0-2.2-.3-5.2-1.2-8.4-6.4-7.2-11.6.6-2.5,2.1-4.6,4.3-6,2.2-1.4,4.8-1.8,7.3-1.2s4.6,2.1,6,4.3,1.8,4.8,1.2,7.3c-1,4.4-5,7.4-9.4,7.4h0ZM440.4,63.6c-1.7,0-3.3.5-4.8,1.4-2.1,1.3-3.5,3.3-4.1,5.7-1.2,4.9,1.9,9.8,6.8,11s9.8-1.9,11-6.8c.6-2.4.2-4.8-1.1-6.9-1.3-2.1-3.3-3.5-5.7-4.1-.7-.2-1.4-.2-2.1-.2h0Z" />
            </g>
            <circle class="st5" cx="479.5" cy="72.7" r="9.4" />
            <circle class="st3" cx="518.7" cy="72.7" r="9.4" />
            <circle class="st5" cx="440.5" cy="140.9" r="9.4" />
            <circle class="st5" cx="479.5" cy="140.9" r="9.4" />
            <circle class="st3" cx="518.7" cy="140.9" r="9.4" />
            <circle class="st5" cx="440.5" cy="209.1" r="9.4" />
            <circle class="st5" cx="479.5" cy="209.1" r="9.4" />
            <circle class="st3" cx="518.7" cy="209.1" r="9.4" />
            <circle class="st5" cx="440.5" cy="276.3" r="9.4" />
            <circle class="st5" cx="479.5" cy="276.3" r="9.4" />
            <circle class="st3" cx="518.7" cy="276.3" r="9.4" />
        </g>
        <path class="st6" id="fillArea1" onmousedown="onclickPath(1)" ontouchstart="onclickPath(1)" fill-rule="evenodd"
            d="M258.4,117.1c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM258.4,117.1c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM258.4,27.1c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM258.4,27.1c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM265.9,154.7c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM265.9,139.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM265.9,94.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM265.9,79.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM266,64.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM265.9,49.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5Z" />
        <path class="st6" id="fillArea2" onmousedown="onclickPath(2)" ontouchstart="onclickPath(2)" fill-rule="evenodd"
            d="M317,117.1c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM317,117.1c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM317,27.1c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM317,27.1c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM324.5,154.7c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.5,139.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.5,94.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.5,79.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.6,64.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.5,49.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5Z" />
        <path class="st6" id="fillArea3" onmousedown="onclickPath(3)" ontouchstart="onclickPath(3)" fill-rule="evenodd"
            d="M375.5,117.1c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM375.5,117.1c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM375.5,27.1c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM375.5,27.1c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM383,154.7c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383,139.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383,94.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383,79.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383.1,64.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383,49.6c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5Z" />
        <path class="st6" id="fillArea4" onmousedown="onclickPath(4)" ontouchstart="onclickPath(4)" fill-rule="evenodd" 
            d="M258.4,294.7c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM258.4,294.7c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM258.4,204.7c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM258.4,204.7c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM265.9,332.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM265.9,317.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM265.9,272.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM265.9,257.1c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM266,242.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM265.9,227.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5Z" />
        <path class="st6" id="fillArea5" onmousedown="onclickPath(5)" ontouchstart="onclickPath(5)" fill-rule="evenodd"
            d="M317,294.7c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM317,294.7c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM317,204.7c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM317,204.7c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM324.5,332.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.5,317.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.5,272.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.5,257.1c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.6,242.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM324.5,227.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5Z" />
        <path class="st6" id="fillArea6" onmousedown="onclickPath(6)" ontouchstart="onclickPath(6)" fill-rule="evenodd"
            d="M375.5,294.7c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM375.5,294.7c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM375.5,204.7c-4.1,0-7.5,3.4-7.5,7.5s3.4,7.5,7.5,7.5,7.5-3.4,7.5-7.5-3.4-7.5-7.5-7.5ZM375.5,204.7c4.1,0,7.5-3.4,7.5-7.5s-3.4-7.5-7.5-7.5-7.5,3.4-7.5,7.5,3.4,7.5,7.5,7.5ZM383,332.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383,317.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383,272.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383,257.1c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383.1,242.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5ZM383,227.2c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5,3.4-7.5,7.5-7.5,7.5,3.4,7.5,7.5Z" />

        <path class="st5" id="fillArea7" onmousedown="onclickPath(7)" ontouchstart="onclickPath(7)" fill-rule="evenodd"
            d="M431.2,110.9c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <path class="st5" id="fillArea8" onmousedown="onclickPath(8)" ontouchstart="onclickPath(8)" fill-rule="evenodd"
            d="M470.2,110.9c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <path class="st5" id="fillArea9" onmousedown="onclickPath(9)" ontouchstart="onclickPath(9)" fill-rule="evenodd"
            d="M509.3,110.9c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <path class="st5" id="fillArea10" onmousedown="onclickPath(10)" ontouchstart="onclickPath(10)" fill-rule="evenodd"
            d="M431.2,179.2c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <path class="st5" id="fillArea11" onmousedown="onclickPath(11)" ontouchstart="onclickPath(11)" fill-rule="evenodd"
            d="M470.2,179.2c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <path class="st5" id="fillArea12" onmousedown="onclickPath(12)" ontouchstart="onclickPath(12)" fill-rule="evenodd"
            d="M509.3,179.2c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <path class="st5" id="fillArea13" onmousedown="onclickPath(13)" ontouchstart="onclickPath(13)" fill-rule="evenodd"
            d="M431.2,247.4c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <path class="st5" id="fillArea14" onmousedown="onclickPath(14)" ontouchstart="onclickPath(14)" fill-rule="evenodd"
            d="M470.2,247.4c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <path class="st5" id="fillArea15" onmousedown="onclickPath(15)" ontouchstart="onclickPath(15)" fill-rule="evenodd"
            d="M509.3,247.4c5.2,0,9.4-4.2,9.4-9.4s-4.2-9.4-9.4-9.4-9.4,4.2-9.4,9.4,4.2,9.4,9.4,9.4Z" />
        <!-- 사용자가 그리는 영역 (마스킹 적용) -->
        <g id="drawingGroup1" clip-path="url(#clipPath1)"></g>
        <g id="drawingGroup2" clip-path="url(#clipPath2)"></g>
        <g id="drawingGroup3" clip-path="url(#clipPath3)"></g>
        <g id="drawingGroup4" clip-path="url(#clipPath4)"></g>
        <g id="drawingGroup5" clip-path="url(#clipPath5)"></g>
        <g id="drawingGroup6" clip-path="url(#clipPath6)"></g>
        <g id="drawingGroup7" clip-path="url(#clipPath7)"></g>
        <g id="drawingGroup8" clip-path="url(#clipPath8)"></g>
        <g id="drawingGroup9" clip-path="url(#clipPath9)"></g>
        <g id="drawingGroup10" clip-path="url(#clipPath10)"></g>
        <g id="drawingGroup11" clip-path="url(#clipPath11)"></g>
        <g id="drawingGroup12" clip-path="url(#clipPath12)"></g>
        <g id="drawingGroup13" clip-path="url(#clipPath13)"></g>
        <g id="drawingGroup14" clip-path="url(#clipPath14)"></g>
        <g id="drawingGroup15" clip-path="url(#clipPath15)"></g>
    </svg>

    <script>
        const svg = document.getElementById("paintSvg");
        let clipRef = document.getElementById("clipRef1");
        let drawingGroup = document.getElementById("drawingGroup1"); // 초기 그리기 그룹은 첫 번째 영역
        let fillArea = document.getElementById("fillArea1");
        let drawing = false;
        let currentPath = null;
        let callFlutter = false;

        // 확대/축소 변수
        let scale = 1;
        let lastDistance = 0;
        let currentX = 0, currentY = 0; // 드래그 위치
        let isDragging = false;

        // 영역 클릭 시 해당 영역으로 전환
        function onclickPath(id) {
            const newFillArea = document.getElementById(`fillArea${id}`);
            const newGroup = document.getElementById(`drawingGroup${id}`);

            if (!newFillArea || !newGroup) {
                console.warn('Invalid area or drawing group:', id);
                return;
            }

            fillArea = newFillArea;
            drawingGroup = newGroup;
        }

        // SVG 좌표 변환 함수
        function getSVGCoords(event) {
            const point = svg.createSVGPoint();
            let x, y;

            if (event.touches) {
                x = event.touches[0].clientX;
                y = event.touches[0].clientY;
            } else {
                x = event.clientX;
                y = event.clientY;
            }

            point.x = x;
            point.y = y;
            return point.matrixTransform(svg.getScreenCTM().inverse());
        }

        // 경로 내부 점인지 확인하는 함수
        function isInsidePath(x, y) {
            const point = svg.createSVGPoint();
            point.x = x;
            point.y = y;
            return fillArea.isPointInFill(point);
        }

        // 그리기 시작 함수
        function startDrawing(e) {
            e.preventDefault();
            const {
                x,
                y
            } = getSVGCoords(e);
            if (!isInsidePath(x, y)) return;

            drawing = true;
            currentPath = document.createElementNS("http://www.w3.org/2000/svg", "polyline");
            currentPath.setAttribute("stroke", "#760c0c");
            currentPath.setAttribute("stroke-width", "10");
            currentPath.setAttribute("fill", "none");
            currentPath.setAttribute("stroke-linecap", "round"); // 선 끝을 둥글게?
            currentPath.setAttribute("stroke-linejoin", "round"); // 선을 좀더 부드럽게
            currentPath.setAttribute("points", `${x},${y}`);
            drawingGroup.appendChild(currentPath);

            resetDrawTimer();
        }

        // 그리기 이동 함수
        function moveDrawing(e) {
            if (!drawing) return;
            e.preventDefault();

            const {
                x,
                y
            } = getSVGCoords(e);
            if (!isInsidePath(x, y)) return;

            let points = currentPath.getAttribute("points");
            points += ` ${x},${y}`;
            currentPath.setAttribute("points", points);
        }

        // 그리기 종료 함수
        function stopDrawing() {
            drawing = false;
        }

        // Flutter 호출 함수
        function resetDrawTimer() {
            if (!callFlutter) {
                console.log(callFlutter);
                callFlutter = true;
                window.drawCanvas.postMessage(JSON.stringify({
                    data: 'draw'
                }));
            }
        }

        // 줌 처리 함수
        function handleZoom(e) {
            if (e.touches.length === 2) {
                let dx = e.touches[0].clientX - e.touches[1].clientX;
                let dy = e.touches[0].clientY - e.touches[1].clientY;
                let distance = Math.sqrt(dx * dx + dy * dy);

                if (lastDistance !== 0) {
                    let delta = distance - lastDistance;
                    scale += delta * 0.005; // 줌 속도
                    scale = Math.max(1.0, Math.min(2.5, scale)); // 줌 한계 (0.5배 ~ 3배)
                    svg.setAttribute("style", `transform: scale(${scale})`);
                }

                lastDistance = distance; // 마지막 거리 업데이트
                e.preventDefault(); // 기본 동작(스크롤 등)을 막음
            }
        }

        // 첫 번째 터치 시 초기화
        function handleTouchStart(e) {
            if (e.touches.length === 2) {
                let dx = e.touches[0].clientX - e.touches[1].clientX;
                let dy = e.touches[0].clientY - e.touches[1].clientY;
                lastDistance = Math.sqrt(dx * dx + dy * dy); // 초기 거리 계산
            }
        }

        // 터치 끝날 때
        function handleTouchEnd(e) {
            if (e.touches.length < 2) {
                lastDistance = 0; // 두 손가락이 하나로 떨어지면 초기화
            }
        }

        // 드래그 이동 함수
        function handleMouseDown(e) {
            isDragging = true;
            currentX = e.clientX;
            currentY = e.clientY;
            svg.style.cursor = 'grabbing';
        }

        function handleMouseMove(e) {
            if (!isDragging) return;

            const dx = e.clientX - currentX;
            const dy = e.clientY - currentY;
            currentX = e.clientX;
            currentY = e.clientY;

            const transform = svg.getAttribute('transform') || 'translate(0, 0)';
            const regex = /translate\((-?\d+), (-?\d+)\)/;
            const match = transform.match(regex);

            const newX = (match ? parseInt(match[1]) : 0) + dx;
            const newY = (match ? parseInt(match[2]) : 0) + dy;
            svg.setAttribute('transform', `translate(${newX}, ${newY})`);
        }

        function handleMouseUp() {
            isDragging = false;
            svg.style.cursor = 'grab';
        }

        function handleMouseLeave() {
            isDragging = false;
            svg.style.cursor = 'grab';
        }

        // 마우스 이벤트 리스너
        svg.addEventListener("mousedown", startDrawing);
        svg.addEventListener("mousemove", moveDrawing);
        svg.addEventListener("mouseup", stopDrawing);
        svg.addEventListener("mouseleave", stopDrawing);

        // 터치 이벤트 리스너
        svg.addEventListener("touchstart", function (e) {
            if (e.touches.length === 1) {
                startDrawing(e); // 한 손가락으로 그리기 시작
            } else if (e.touches.length === 2) {
                handleTouchStart(e); // 두 손가락 줌 시작
            }
        });

        svg.addEventListener("touchmove", function (e) {
            if (e.touches.length === 1) {
                moveDrawing(e); // 한 손가락으로 그리기 이동
            } else if (e.touches.length === 2) {
                handleZoom(e); // 두 손가락 줌 처리
            }
        });

        svg.addEventListener("touchend", function (e) {
            stopDrawing(); // 그리기 종료
            handleTouchEnd(e); // 두 손가락 처리 종료
        });
    </script>
</body>

</html>