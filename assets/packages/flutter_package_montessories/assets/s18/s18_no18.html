<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=no">
    <title>몬테소리 콘텐츠</title>
    <style>
        svg {
            /*border: 1px solid #000;*/
            display: block;
            margin: 5px auto;
            cursor: crosshair;
            width: 100%;
            height: auto;
        }
    </style>
</head>

<body>
    <?xml version="1.0" encoding="UTF-8"?>
    <svg id="paintSvg" data-name="paintSvg" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="50 176 467 408">
        <!-- Generator: Adobe Illustrator 29.3.0, SVG Export Plug-In . SVG Version: 2.1.0 Build 146)  -->
        <defs>
            <style>
                .st0 {
                    fill: #ea5234;
                }

                .st1 {
                    fill: #62268a;
                }

                .st2 {
                    fill: #ef8567;
                }

                .st3 {
                    stroke-width: 1.03px;
                }

                .st3,
                .st4,
                .st5,
                .st6,
                .st7 {
                    stroke-miterlimit: 10;
                }

                .st3,
                .st4,
                .st5,
                .st7 {
                    stroke: #231815;
                }

                .st3,
                .st4,
                .st7 {
                    fill: #fff;
                }

                .st8 {
                    fill: #343535;
                }

                .st4 {
                    stroke-width: 1.95px;
                }

                .st9 {
                    fill: #446b33;
                }

                .st10 {
                    fill: #231815;
                }

                .st11 {
                    fill: #f6c74e;
                }

                .st12 {
                    fill: #e1328c;
                }

                .st13 {
                    fill: #e8e6e6;
                }

                .st14 {
                    fill: #1a7fc1;
                }

                .st5 {
                    fill: none;
                    stroke-width: .61px;
                }

                .st6 {
                    fill: #f3f3f3;
                    stroke: #d3d3d4;
                    stroke-width: .69px;
                }

                .st7 {
                    stroke-width: 2.51px;
                }

                .st15 {
                    fill: #c1571e;
                }

                .st16 {
                    fill: #ed6d2a;
                }

                .st17 {
                    fill: #898989;
                }
            </style>
        </defs>
        <defs>
            <clipPath id="clipPath1">
                <use id="clipRef1" href="#fillArea1" />
            </clipPath>
            <clipPath id="clipPath2">
                <use id="clipRef2" href="#fillArea2" />
            </clipPath>
            <clipPath id="clipPath3">
                <use id="clipRef3" href="#fillArea3" />
            </clipPath>
            <clipPath id="clipPath4">
                <use id="clipRef4" href="#fillArea4" />
            </clipPath>
            <clipPath id="clipPath5">
                <use id="clipRef5" href="#fillArea5" />
            </clipPath>
            <clipPath id="clipPath6">
                <use id="clipRef6" href="#fillArea6" />
            </clipPath>
            <clipPath id="clipPath7">
                <use id="clipRef7" href="#fillArea7" />
            </clipPath>
            <clipPath id="clipPath8">
                <use id="clipRef8" href="#fillArea8" />
            </clipPath>
            <clipPath id="clipPath9">
                <use id="clipRef9" href="#fillArea9" />
            </clipPath>
            <clipPath id="clipPath10">
                <use id="clipRef10" href="#fillArea10" />
            </clipPath>
            <clipPath id="clipPath11">
                <use id="clipRef11" href="#fillArea11" />
            </clipPath>
            <clipPath id="clipPath12">
                <use id="clipRef12" href="#fillArea12" />
            </clipPath>
            <clipPath id="clipPath13">
                <use id="clipRef13" href="#fillArea13" />
            </clipPath>
            <clipPath id="clipPath14">
                <use id="clipRef14" href="#fillArea14" />
            </clipPath>
            <clipPath id="clipPath15">
                <use id="clipRef15" href="#fillArea15" />
            </clipPath>
            <clipPath id="clipPath16">
                <use id="clipRef16" href="#fillArea16" />
            </clipPath>
            <clipPath id="clipPath17">
                <use id="clipRef17" href="#fillArea17" />
            </clipPath>
            <clipPath id="clipPath18">
                <use id="clipRef18" href="#fillArea18" />
            </clipPath>
            <clipPath id="clipPath19">
                <use id="clipRef19" href="#fillArea19" />
            </clipPath>
            <clipPath id="clipPath20">
                <use id="clipRef20" href="#fillArea20" />
            </clipPath>
            <clipPath id="clipPath21">
                <use id="clipRef21" href="#fillArea21" />
            </clipPath>
            <clipPath id="clipPath22">
                <use id="clipRef22" href="#fillArea22" />
            </clipPath>
            <clipPath id="clipPath23">
                <use id="clipRef23" href="#fillArea23" />
            </clipPath>
        </defs>
        <!-- <rect class="st5" x="47.58" y="89.89" width="503.96" height="503.96" /> -->
        <!-- <g>
            <path class="st10" d="M72.89,149.62l-2.73.61v-1.13l3.61-1.68h1.07v15.35h-1.95v-13.14Z" />
            <path class="st10"
                d="M78.31,158.83c0-1.95,1.66-3.32,3.32-3.97-1.6-.65-2.88-1.76-2.88-3.67,0-2.23,1.89-3.82,4.83-3.82s4.83,1.36,4.83,3.7c0,1.81-1.45,2.88-3,3.67,1.85.61,3.59,1.68,3.59,3.91,0,2.44-2.04,4.3-5.35,4.3s-5.33-1.64-5.33-4.12ZM86.92,158.83c0-1.78-1.22-2.48-3.74-3.25-1.45.5-2.9,1.57-2.9,3.15s1.36,2.65,3.32,2.65,3.32-1.05,3.32-2.54ZM86.39,151.17c0-1.28-.94-2.23-2.77-2.23-1.7,0-2.79.8-2.79,2.18,0,1.51,1.15,2.39,3.13,2.9,1.34-.59,2.44-1.47,2.44-2.86Z" />
            <path class="st10" d="M90.59,160.99h2.16v2.18h-2.16v-2.18Z" />
            <path class="st10"
                d="M111.4,156.14c-1.74-.78-3.86-2.62-4.68-4.56-.59,2.02-2.67,4.05-4.91,5.17l-1.2-1.53c2.75-1.18,5.08-3.67,5.08-6.89v-1.89h2.02v1.81c0,3.25,2.62,5.58,4.85,6.36l-1.15,1.53ZM114.78,165.19v-5.31h-11.11v-1.6h13.08v6.91h-1.97ZM114.78,157.24v-11.57h1.97v11.57h-1.97Z" />
            <path class="st10"
                d="M121.61,165.03v-4.62h11.48v-1.43h-11.61v-1.62h5.84v-1.76h-7.79v-1.55h17.64v1.55h-7.87v1.76h5.77v4.51h-11.48v1.51h12.22v1.64h-14.19ZM121.82,152.47v-6.07h13.12v6.07h-13.12ZM132.95,148h-9.15v2.9h9.15v-2.9Z" />
            <path class="st10"
                d="M151.49,160.22c-1.78.23-4.66.42-7.14.55-2.23.1-4.28.15-5.84.17l-.31-1.68c1.87,0,4.16-.02,6.47-.15,2.75-.1,5.06-.25,6.61-.44l.21,1.55ZM144.6,156.25c-2.88,0-5.08-1.81-5.08-4.45s2.23-4.6,5.08-4.6,5.12,1.81,5.12,4.6-2.27,4.45-5.12,4.45ZM144.6,148.86c-1.72,0-3.13,1.24-3.13,2.92s1.41,2.81,3.13,2.81,3.17-1.11,3.17-2.81c0-1.78-1.41-2.92-3.17-2.92ZM154.49,145.65v19.53h-1.95v-19.53h1.95Z" />
            <path class="st10"
                d="M170.39,161.04v-3.61h-7.92v-1.6h17.64v1.6h-7.75v3.61h-1.97ZM164.68,153.81v-7.54h1.97v2.29h9.28v-2.31h1.97v7.56h-13.23ZM164.68,164.59v-5.35h1.97v3.74h11.4v1.62h-13.37ZM175.93,150.14h-9.28v2.08h9.28v-2.08Z" />
            <path class="st10"
                d="M185.78,165.19v-6.3h-4.51v-1.6h17.64v1.6h-4.56v6.3h-1.97v-6.3h-4.62v6.3h-1.97ZM183.31,155.26v-5.25h11.57v-2.02h-11.59v-1.55h13.56v5.1h-11.57v2.16h12.09v1.55h-14.07Z" />
            <path class="st10"
                d="M200.07,156.19v-1.51h17.64v1.51h-17.64ZM202.08,164.82v-4.33h11.61v-1.45h-11.61v-1.49h13.58v4.33h-11.61v1.43h12.24v1.51h-14.21ZM202.29,153.29v-4.14h11.3v-1.36h-11.27v-1.47h13.25v4.18h-11.3v1.3h11.69v1.49h-13.67Z" />
            <path class="st10"
                d="M234.19,155.16c-1.64-.67-3.57-2.1-4.47-4.12-.61,2.02-2.54,3.76-4.7,4.72l-1.2-1.49c2.65-1.03,4.85-3.23,4.85-6.32v-1.6h2.02v1.51c0,3.09,2.52,5.1,4.64,5.79l-1.13,1.49ZM226.8,165.03v-4.98h10.52v-1.68h-10.56v-1.62h12.53v4.79h-10.52v1.87h11.21v1.62h-13.19ZM239.29,151.86v3.88h-1.97v-10.1h1.97v4.58h2.92v1.64h-2.92Z" />
            <path class="st10"
                d="M254.52,159.76c-1.28.21-2.98.4-5.23.52-2.06.1-4.3.17-6.26.17l-.27-1.7h2.71l-.67-8.02,1.97-.25.5,8.23c.65-.02,1.3-.04,1.91-.08.21,0,.4,0,.61-.02l.5-8.15,1.93.21-.69,7.85c1.13-.08,2.04-.19,2.81-.31l.17,1.55ZM243.33,149.09v-1.6h10.62v1.6h-10.62ZM257.04,165.17v-8.4h-3.19v-1.6h3.19v-3.04h-3.19v-1.62h3.19v-4.87h1.97v19.53h-1.97Z" />
            <path class="st10"
                d="M271.57,157.32v3.84h7.87v1.62h-17.64v-1.62h7.79v-3.84h-5.65v-10.31h1.97v3.55h9.41v-3.55h1.97v10.31h-5.73ZM275.33,152.16h-9.41v3.55h9.41v-3.55Z" />
            <path class="st10"
                d="M280.6,162.32v-1.62h6.72v-6.57h1.97v6.57h8.94v1.62h-17.64ZM295.95,150.45c-.04,3.11-.25,5.61-.82,7.96l-1.91-.31c.44-1.66.71-4.39.71-6.7v-2.33h-11.51v-1.62h13.52v3Z" />
            <path class="st10"
                d="M313.53,156.23c-1.34-.67-3.23-2.5-3.8-3.88-.48,1.57-2.18,3.57-3.91,4.54l-1.18-1.43c2.14-1.18,4.09-3.57,4.09-6.42v-2.27h1.91v2.23c0,2.9,2.23,4.96,3.93,5.75l-1.05,1.49ZM319.3,165.19v-5.23h-11.28v-1.6h13.23v6.82h-1.95ZM319.34,157.43v-5.25h-2.21v5h-1.89v-11.17h1.89v4.56h2.21v-4.91h1.91v11.78h-1.91Z" />
            <path class="st10"
                d="M334.57,156.02c-1.7-.5-4.01-1.93-4.87-3.59-.61,1.68-2.65,3.36-4.83,4.12l-1.09-1.51c2.37-.67,4.54-2.46,4.85-4.64h-4.09v-1.6h10.56v1.6h-4.37c.36,2.1,2.79,3.61,4.83,4.07l-.99,1.55ZM326.84,165.03v-4.83h10.75v-1.55h-10.79v-1.62h12.77v4.66h-10.75v1.72h11.42v1.62h-13.4ZM327.07,147.37v-1.57h5.31v1.57h-5.31ZM337.59,156v-10.35h1.97v10.35h-1.97Z" />
            <path class="st10"
                d="M342.4,152.07v-1.62h9.66v1.62h-9.66ZM347.38,160.64c-2.54,0-4.33-1.62-4.33-3.84,0-2.35,1.79-3.82,4.33-3.82s4.28,1.49,4.28,3.82-1.74,3.84-4.28,3.84ZM344.57,148.73v-1.62h5.25v1.62h-5.25ZM347.38,154.57c-1.43,0-2.41.97-2.41,2.23s.99,2.25,2.41,2.25,2.39-.99,2.39-2.25-1.01-2.23-2.39-2.23ZM356.93,165.17v-9.85h-2.02v8.88h-1.89v-18.14h1.89v7.64h2.02v-8.06h1.91v19.53h-1.91Z" />
            <path class="st10"
                d="M370.9,157.32v3.84h7.87v1.62h-17.64v-1.62h7.79v-3.84h-5.65v-10.31h1.97v3.55h9.41v-3.55h1.97v10.31h-5.73ZM374.66,152.16h-9.41v3.55h9.41v-3.55Z" />
            <path class="st10"
                d="M388.46,160.3c-1.45-.99-3.17-3.17-3.76-5.29-.46,2.16-2.1,4.47-4.01,5.79l-1.24-1.39c2.31-1.47,4.28-4.66,4.28-8.59v-3.34h1.91v3.32c0,3.76,1.81,6.72,4.01,8.1l-1.2,1.39ZM390.68,164.21v-10.02h-3.09v-1.62h3.09v-6.49h1.89v18.12h-1.89ZM394.52,165.17v-19.53h1.91v19.53h-1.91Z" />
            <path class="st10"
                d="M398.73,162.7v-1.62h4.24v-3.46l1.97-.06v3.53h5.17v-3.53l1.97.06v3.46h4.28v1.62h-17.64ZM407.54,157.05c-4.37,0-7.26-1.99-7.26-5.04s2.9-5.06,7.26-5.06,7.26,2.02,7.26,5.06-2.9,5.04-7.26,5.04ZM407.54,148.57c-3.15,0-5.23,1.39-5.23,3.44s2.08,3.42,5.23,3.42,5.25-1.39,5.25-3.42-2.08-3.44-5.25-3.44Z" />
            <path class="st10" d="M417.67,160.99h2.16v2.18h-2.16v-2.18Z" />
        </g> -->
        <rect class="st13" x="88.86" y="188.28" width="130.25" height="78.16" rx="15.56" ry="15.56" />
        <rect class="st3" x="88.86" y="229.68" width="424.34" height="284.94" rx="22.49" ry="22.49" />
        <g id="colorPalette">
            <rect class="st9" x="422.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st1" x="102.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st12" x="502.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st16" x="142.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st15" x="382.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st2" x="222.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st0" x="302.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st14" x="342.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st11" x="262.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st6" x="62.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st17" x="462.23" y="531.8" width="36" height="36" rx="6" ry="6" />
            <rect class="st8" x="182.23" y="531.8" width="36" height="36" rx="6" ry="6" />
        </g>
        <path class="st4" onmousedown="onclickPath(1)" ontouchstart="onclickPath(1)" id="fillArea1"
            d="M191.91,361.59s-11.98-21.63-2.66-28.28,15.3,2.66,16.64,10.31c1.33,7.65-1,17.97-13.97,17.97Z" />
        <path class="st4" onmousedown="onclickPath(2)" ontouchstart="onclickPath(2)" id="fillArea2"
            d="M188.59,337.3s-6.65-8.98-18.3-5.66c-11.64,3.33-9.65,21.96,0,27.28,9.65,5.32,21.29,7.65,24.29,0,2.99-7.65-5.99-21.63-5.99-21.63Z" />
        <path class="st4" onmousedown="onclickPath(3)" ontouchstart="onclickPath(3)" id="fillArea3"
            d="M188.92,362.26s-10.65-3.66-5.66-21.63c0,0,8.65,9.98,7.98,20.63,0,0,3.66-1.33,7.98-4.66s8.65-3.33,6.65-12.98c0,0,6.65,15.64-8.98,18.96,0,0,2.66,2,2,4.99,0,0-3.99-4.99-8.98-3.33l-7.65,6.32,3.66-4.66s-12.31,2.99-18.3,0l6.65-.67s-9.98-3.99-10.31-12.64c0,0,9.98,11.98,24.95,9.65Z" />
        <path class="st4" onmousedown="onclickPath(4)" ontouchstart="onclickPath(4)" id="fillArea4"
            d="M218.2,382.88s6.32-8.65,15.64-9.32c9.32-.67,15.3,10.31,12.64,17.97-2.66,7.65-20.3,13.31-20.3,13.31l-9.98-12.64,2-9.32Z" />
        <path class="st4" onmousedown="onclickPath(5)" ontouchstart="onclickPath(5)" id="fillArea5"
            d="M214.54,409.83s-12.98-11.31-9.32-20.96c3.66-9.65,13.97-14.31,18.96-7.32s4.33,15.64,4.33,15.64l-13.97,12.64Z" />
        <path class="st4" onmousedown="onclickPath(6)" ontouchstart="onclickPath(6)" id="fillArea6"
            d="M209.55,295.72s3.33,10.31,2.99,22.62c-.33,12.31-7.32,69.2-7.32,69.2,0,0-8.98-5.32-8.98-10.98s-2-13.97-2-13.97l-2.99-1.33s3.33,10.31,2.33,14.31,1.66,10.98,9.98,14.64c0,0-2,42.92,0,48.58,2,5.66.33,17.97,1.66,22.29s2.33,15.3.67,24.95c-1.66,9.65,0,12.31,0,12.31l8.32.67s1.33-33.27.67-34.93,6.32-5.66,7.65-12.64c1.33-6.99,11.31-29.94,15.97-30.94l-8.65-2.66s-11.98,29.61-11.64,32.61c.33,2.99-3.99,8.65-5.32,8.98-1.33.33,3.99-22.29,1-25.29s-3.33-11.98-3.33-12.98,2.33-59.89,5.66-74.53c3.33-14.64,3.99-31.61,3.99-38.59s-3.33-13.31-3.33-13.31l-7.32,1Z" />
        <path class="st4" onmousedown="onclickPath(7)" ontouchstart="onclickPath(7)" id="fillArea7"
            d="M233.17,403.18s8.65-15.3,16.64-14.64,8.65,16.97,3.66,21.96c-4.99,4.99-20.3-7.32-20.3-7.32Z" />
        <path class="st4" onmousedown="onclickPath(8)" ontouchstart="onclickPath(8)" id="fillArea8"
            d="M232.51,401.85s8.65-10.31,18.3-5.32,2.66,23.29-1,25.62c-3.66,2.33-19.63,3.99-21.29-1-1.66-4.99,3.99-19.3,3.99-19.3Z" />
        <path class="st4" onmousedown="onclickPath(9)" ontouchstart="onclickPath(9)" id="fillArea9"
            d="M221.53,423.48s-14.31-3.33-10.65-16.64c3.66-13.31,14.64-19.96,21.29-15.3,6.65,4.66,5.66,19.63,5.66,22.96s-2.33,12.64-16.3,8.98Z" />
        <path class="st4" onmousedown="onclickPath(10)" ontouchstart="onclickPath(10)" id="fillArea10"
            d="M208.22,268.1s-2.33-9.65,3.33-10.31,10.31,0,10.98,6.65c.67,6.65-14.31,3.66-14.31,3.66Z" />
        <path class="st4" onmousedown="onclickPath(11)" ontouchstart="onclickPath(11)" id="fillArea11"
            d="M194.24,269.43s1-7.65,6.65-9.65,9.32,1,9.65,3.33c.33,2.33-2.66,7.65-2.66,7.65l-10.65,3.66-2.99-4.99Z" />
        <path class="st4" onmousedown="onclickPath(12)" ontouchstart="onclickPath(12)" id="fillArea12"
            d="M206.22,271.43s-6.65-10.98-14.64-5.32c-7.98,5.66-4.33,26.62,6.99,28.61s11.98-11.31,11.98-11.31l-4.33-11.98Z" />
        <path class="st4" onmousedown="onclickPath(13)" ontouchstart="onclickPath(13)" id="fillArea13"
            d="M216.87,267.44s2.66-8.65,9.65-6.99,10.31,12.98,7.65,20.63-9.65,15.64-16.64,10.98c-6.99-4.66-.67-24.62-.67-24.62Z" />
        <path class="st4" onmousedown="onclickPath(14)" ontouchstart="onclickPath(14)" id="fillArea14"
            d="M213.21,295.72s-9.98-1.33-11.64-11.31c-1.66-9.98.33-20.63,8.98-21.29s12.64,8.65,13.31,16.3-4.66,17.3-10.65,16.3Z" />
        <path class="st4" onmousedown="onclickPath(15)" ontouchstart="onclickPath(15)" id="fillArea15"
            d="M214.87,295.05s.67-2,3.99-3.66c3.33-1.66,5.66-4.33,5.99-14.64,0,0,.33,11.98-3.66,18.3,0,0,2.66-.33,4.99-3.66s5.32-7.65,11.31-2.66c0,0-5.99-.67-9.32,4.33-3.33,4.99-3.99,3.33-3.99,3.33l7.32,1s-7.65,2.99-11.98,1-8.98,0-8.98,0c0,0-3.66,8.65-22.62-2.99,0,0,10.65-.67,13.97,1.33s-2-3.99-2-3.99h2.66s-5.66-5.32-4.99-7.32c0,0,8.65,8.65,12.31,8.32s4.99,1.33,4.99,1.33Z" />
        <path class="st7" onmousedown="onclickPath(16)" ontouchstart="onclickPath(16)" id="fillArea16"
            d="M366.01,357.94s.7,30.35,4.4,37.07l3.94-.46-2.55-25.49-4.17-13.21-1.62,2.09Z" />
        <path class="st7" onmousedown="onclickPath(17)" ontouchstart="onclickPath(17)" id="fillArea17"
            d="M368.79,394.32s-11.12-6.72-18.54-4.63-26.88,7.18-38.46,18.07c-11.59,10.89-7.65,23.87-10.66,27.57s-4.4,13.44-4.4,13.44c0,0,5.33-6.95,13.44-5.79,8.11,1.16,33.83-6.26,39.62-14.83,5.79-8.57,9.27-15.29,10.66-21.09s8.34-12.74,8.34-12.74Z" />
        <path class="st7" onmousedown="onclickPath(18)" ontouchstart="onclickPath(18)" id="fillArea18"
            d="M374.58,392.47s15.99-12.74,19.93-19.23c3.94-6.49,16.22-14.13,23.63-14.83s22.48,3.71,28.27,10.89c5.79,7.18,9.5,7.88,9.5,7.88,0,0-13.21,10.66-23.17,11.35s-37.54-.23-45.41,1.85-12.74,2.09-12.74,2.09Z" />
        <path class="st7" onmousedown="onclickPath(19)" ontouchstart="onclickPath(19)" id="fillArea19"
            d="M371.34,394.55s-7.41,9.5-6.26,17.38c1.16,7.88,3.71,13.67,3.01,19.23-.7,5.56,0,15.76,11.35,21.32,11.35,5.56,13.21,13.44,13.21,13.44,0,0,.93-12.05,4.87-15.06,3.94-3.01,9.04-25.72-3.48-38.46-12.51-12.74-12.74-18.3-22.71-17.84Z" />
        <path class="st7" onmousedown="onclickPath(20)" ontouchstart="onclickPath(20)" id="fillArea20"
            d="M436.68,435.33s-1.62-4.63-12.74-5.56c-11.12-.93-20.85-4.4-23.17-14.6-2.32-10.2-9.27-16.45-19.93-16.68,0,0,11.59.93,18.77-2.55s25.49.93,32.67,9.5,8.57,18.3,4.4,29.89Z" />
        <path class="st7" onmousedown="onclickPath(21)" ontouchstart="onclickPath(21)" id="fillArea21"
            d="M362.07,340.57s-4.4-10.89-1.62-16.22,6.72-7.18,10.66-9.5,12.74-2.09,12.74,3.71-2.09,12.51-5.56,16.68c0,0,6.26-13.44,15.06-15.52s17.15,5.79,14.37,12.74c-2.78,6.95-13.44,8.8-17.15,10.2s15.29-4.4,16.45,2.32c1.16,6.72,3.24,10.89,3.24,10.89,0,0-6.72,4.87-14.6,4.17l-9.96-3.48s12.28,15.99,5.56,21.55c-2.91,2.4-9.96,2.09-17.15-4.17s-6.95-17.15-6.95-17.15c0,0-10.66,11.82-19,14.37-8.34,2.55-17.61,1.16-17.38-3.94s3.01-16.91,9.5-16.45c6.49.46,11.59-.46,13.67-1.16s-.93-2.09-2.55-2.09-17.61.7-20.16-2.55-1.85-5.79-.23-8.8-.7-9.73,4.87-9.73,7.88-5.79,12.05-1.85,6.95,6.95,8.11,10.89c1.16,3.94,6.02,5.1,6.02,5.1Z" />
        <path class="st7" onmousedown="onclickPath(22)" ontouchstart="onclickPath(22)" id="fillArea22"
            d="M368.09,352.85s-6.02-1.62-4.4-7.65c1.62-6.02,3.71-7.88,4.87-3.48,1.16,4.4,1.85,10.2-.46,11.12Z" />
        <path class="st7" onmousedown="onclickPath(23)" ontouchstart="onclickPath(23)" id="fillArea23"
            d="M369.72,342.42s.46-4.17,2.78-2.09c2.32,2.09,1.39,8.8.46,10.2s-2.55-.46-2.55-.46l-.7-7.65Z" />
        <g>
            <path class="st10"
                d="M121.18,214.02v-3.53c-1.95.09-3.68.11-5.41.15l-.32-1.67c2.29,0,4.43-.02,6.61-.11,2.55-.13,4.51-.26,6.37-.47l.15,1.52c-1.33.19-3.4.36-5.39.47v3.64h-2.01ZM122.01,207.91c-3.04,0-5.28-1.39-5.28-3.68s2.25-3.7,5.28-3.7,5.28,1.45,5.28,3.72-2.2,3.66-5.28,3.66ZM118.1,218.98v-5.8h2.01v4.17h12.43v1.63h-14.44ZM122.01,202.15c-1.88,0-3.12.9-3.12,2.1s1.24,2.05,3.12,2.05,3.12-.88,3.12-2.05-1.22-2.1-3.12-2.1ZM130.16,214.9v-2.12h-3.91v-1.5h3.91v-11.68h1.99v15.29h-1.99Z" />
            <path class="st10"
                d="M148,211.93v3.4h4.79v1.65h-17.96v-1.65h4.85v-3.4h-2.65v-6.22h11.51v-2.8h-11.55v-1.65h13.56v6.09h-11.51v2.93h12.04v1.65h-3.08ZM141.65,215.33h4.38v-3.4h-4.38v3.4Z" />
            <path class="st10"
                d="M170.29,210.3c-1.78-.79-3.94-2.67-4.77-4.64-.6,2.05-2.72,4.13-5,5.26l-1.22-1.56c2.8-1.2,5.18-3.74,5.18-7.01v-1.92h2.05v1.84c0,3.31,2.67,5.69,4.94,6.48l-1.18,1.56ZM173.73,219.52v-5.41h-11.31v-1.63h13.32v7.04h-2.01ZM173.73,211.41v-11.78h2.01v11.78h-2.01Z" />
            <path class="st10"
                d="M180.69,219.35v-4.71h11.7v-1.45h-11.83v-1.65h5.95v-1.8h-7.93v-1.58h17.96v1.58h-8.02v1.8h5.88v4.6h-11.7v1.54h12.45v1.67h-14.46ZM180.9,206.56v-6.18h13.37v6.18h-13.37ZM192.24,202h-9.32v2.95h9.32v-2.95Z" />
        </g>
        <path class="st10"
            d="M229.53,492.75v-.92h4.45v-1.33h-3.15v-3.83h7.5v3.83h-3.21v1.33h4.5v.92h-10.07ZM238.37,493.84v3.62h-1.13v-2.71h-6.6v-.91h7.72ZM237.18,487.57h-5.23v2.03h5.23v-2.03Z" />
        <path class="st10"
            d="M247.53,495.22c-.92.12-2.51.24-3.84.31-1.2.07-2.24.1-3.17.1l-.17-.95c.88,0,1.9,0,2.96-.05v-1.01c-1.25-.17-2.1-.9-2.1-1.87,0-1.14,1.12-1.91,2.66-1.91s2.66.75,2.66,1.91c0,1-.83,1.71-2.1,1.87v.94c1.21-.06,2.24-.14,2.97-.24l.11.9ZM240.63,489.38v-.92h6.62v.92h-6.62ZM242.27,487.73v-.92h3.18v.92h-3.18ZM243.88,490.76c-.88,0-1.5.43-1.5,1s.62,1,1.5,1,1.5-.46,1.5-1-.6-1-1.5-1ZM249.24,492.16v5.25h-1.12v-11.15h1.12v4.97h1.72v.94h-1.72Z" />
        <g>
            <path class="st10"
                d="M368.17,495.25c-1.15-.55-2.57-1.88-2.94-3-.3,1.18-1.55,2.6-2.78,3.25l-.71-.84c1.55-.79,2.9-2.41,2.9-4.56v-.18h-2.53v-.92h6.21v.92h-2.52v.17c0,2.15,1.33,3.44,3,4.27l-.64.89ZM363.59,487.87v-.94h3.32v.94h-3.32ZM369.82,497.4v-11.15h1.13v11.15h-1.13Z" />
            <path class="st10"
                d="M378.67,494.79c-1.08-.62-2.35-2.01-2.71-3.25-.34,1.27-1.45,2.7-2.78,3.53l-.73-.83c1.71-.98,2.93-2.88,2.93-4.99v-.92h-2.51v-.92h6.14v.92h-2.47v.91c0,2.16,1.21,3.84,2.79,4.71l-.66.84ZM381.37,491.64v5.76h-1.12v-11.15h1.12v4.45h1.75v.95h-1.75Z" />
            <path class="st10"
                d="M390.52,494c-1.27.32-3.79.49-5.35.52-.35.01-.7.01-1.03.01v-7.2h1.13v6.22c1.32,0,3.78-.14,5.08-.49l.17.94ZM392.41,490.61h1.78v.95h-1.78v5.84h-1.13v-11.15h1.13v4.37Z" />
            <path class="st10"
                d="M399.29,497.41v-3.75h-4.45v-.92h10.07v.92h-4.5v3.75h-1.13ZM396.07,491.39v-4.52h7.59v4.52h-7.59ZM402.54,487.78h-5.34v2.7h5.34v-2.7Z" />
        </g>
        <!-- 사용자가 그리는 영역 (마스킹 적용) -->
        <g id="drawingGroup1" clip-path="url(#clipPath1)" style="opacity: 0.8"></g>
        <g id="drawingGroup2" clip-path="url(#clipPath2)" style="opacity: 0.8"></g>
        <g id="drawingGroup3" clip-path="url(#clipPath3)" style="opacity: 0.8"></g>
        <g id="drawingGroup4" clip-path="url(#clipPath4)" style="opacity: 0.8"></g>
        <g id="drawingGroup5" clip-path="url(#clipPath5)" style="opacity: 0.8"></g>
        <g id="drawingGroup6" clip-path="url(#clipPath6)" style="opacity: 1"></g>
        <g id="drawingGroup7" clip-path="url(#clipPath7)" style="opacity: 0.8"></g>
        <g id="drawingGroup8" clip-path="url(#clipPath8)" style="opacity: 0.8"></g>
        <g id="drawingGroup9" clip-path="url(#clipPath9)" style="opacity: 1"></g>
        <g id="drawingGroup10" clip-path="url(#clipPath10)" style="opacity: 0.8"></g>
        <g id="drawingGroup11" clip-path="url(#clipPath11)" style="opacity: 0.8"></g>
        <g id="drawingGroup12" clip-path="url(#clipPath12)" style="opacity: 0.8"></g>
        <g id="drawingGroup13" clip-path="url(#clipPath13)" style="opacity: 0.8"></g>
        <g id="drawingGroup14" clip-path="url(#clipPath14)" style="opacity: 1"></g>
        <g id="drawingGroup15" clip-path="url(#clipPath15)" style="opacity: 0.8"></g>
        <g id="drawingGroup16" clip-path="url(#clipPath16)" style="opacity: 0.8"></g>
        <g id="drawingGroup17" clip-path="url(#clipPath17)" style="opacity: 0.8"></g>
        <g id="drawingGroup18" clip-path="url(#clipPath18)" style="opacity: 0.8"></g>
        <g id="drawingGroup19" clip-path="url(#clipPath19)" style="opacity: 0.8"></g>
        <g id="drawingGroup20" clip-path="url(#clipPath20)" style="opacity: 0.8"></g>
        <g id="drawingGroup21" clip-path="url(#clipPath21)" style="opacity: 0.8"></g>
        <g id="drawingGroup22" clip-path="url(#clipPath22)" style="opacity: 0.8"></g>
        <g id="drawingGroup23" clip-path="url(#clipPath23)" style="opacity: 0.8"></g>
    </svg>

    <script>
        const svg = document.getElementById("paintSvg");

        // 📌 해상도별 viewBox 자동 설정
        (function setViewBoxByDevice() {
            const w = window.innerWidth;
            const h = window.innerHeight;

            // 삼성
            if (w === 1180 && h === 648) {
                svg.setAttribute("viewBox", "-75 179 750 507");
            }
            // 큐브
            else {
                svg.setAttribute("viewBox", "-75 179 750 507");
            }
        })();

        let clipRef = document.getElementById("clipRef1");
        let drawingGroup = document.getElementById("drawingGroup1"); // 초기 그리기 그룹은 첫 번째 영역
        let fillArea = document.getElementById("fillArea1");
        let drawing = false;
        let currentPath = null;
        let callFlutter = false;
        let currentColor = "brown"; // 현재 그리기 색상

        // 확대/축소 변수
        let scale = 1;
        let lastDistance = 0;
        let currentX = 0, currentY = 0; // 드래그 위치
        let isDragging = false;

        const colorMap = {
            "422.23-531.8": "#446b33",  // st9
            "102.23-531.8": "#62268a",  // st1
            "502.23-531.8": "#e1328c",  // st12
            "142.23-531.8": "#ed6d2a",  // st16
            "382.23-531.8": "#c1571e",  // st15
            "222.23-531.8": "#ef8567",  // st2
            "302.23-531.8": "#ea5234",  // st0
            "342.23-531.8": "#1a7fc1",  // st14
            "262.23-531.8": "#f6c74e",  // st11
            "62.23-531.8": "#f3f3f3",  // st6
            "462.23-531.8": "#898989",  // st17
            "182.23-531.8": "#343535",  // st8
        };


        document.querySelectorAll("#colorPalette rect").forEach((rect) => {
            function setColor() {
                const key = `${rect.getAttribute("x")}-${rect.getAttribute("y")}`;
                const fill = colorMap[key];
                if (fill) {
                    currentColor = fill;
                    console.log(`Color selected: ${currentColor}`);
                }
            }

            rect.addEventListener("click", (e) => {
                e.stopPropagation();
                setColor();
            });

            rect.addEventListener("touchstart", (e) => {
                e.stopPropagation();
                setColor();
            });
        });

        // 영역 클릭 시 해당 영역으로 전환
        function onclickPath(id) {
            fillArea = document.getElementById(`fillArea${id}`);

            if (!fillArea) return;

            drawingGroup = document.getElementById(`drawingGroup${id}`);

            console.log(`Switched to fillArea${id}`);
        }

        // SVG 좌표 변환 함수
        function getSVGCoords(event) {
            const point = svg.createSVGPoint();
            let x, y;

            if (event.touches) {
                x = event.touches[0].clientX;
                y = event.touches[0].clientY;
            } else {
                x = event.clientX;
                y = event.clientY;
            }

            point.x = x;
            point.y = y;
            return point.matrixTransform(svg.getScreenCTM().inverse());
        }

        // 경로 내부 점인지 확인하는 함수
        function isInsidePath(x, y) {
            const point = svg.createSVGPoint();
            point.x = x;
            point.y = y;
            return fillArea.isPointInFill(point);
        }

        // 그리기 시작 함수
        function startDrawing(e) {
            e.preventDefault();
            const {
                x,
                y
            } = getSVGCoords(e);
            // if (!isInsidePath(x, y)) return;

            drawing = true;
            currentPath = document.createElementNS("http://www.w3.org/2000/svg", "polyline");
            currentPath.setAttribute("stroke", currentColor);
            currentPath.setAttribute("stroke-width", "30");
            currentPath.setAttribute("fill", "none");
            currentPath.setAttribute("stroke-linecap", "round");
            currentPath.setAttribute("points", `${x},${y}`);
            currentPath.setAttribute("pointer-events", "none");
            drawingGroup.appendChild(currentPath);

            resetDrawTimer();
        }

        // 그리기 이동 함수
        function moveDrawing(e) {
            if (!drawing) return;
            e.preventDefault();

            const {
                x,
                y
            } = getSVGCoords(e);
            if (!isInsidePath(x, y)) return;

            let points = currentPath.getAttribute("points");
            points += ` ${x},${y}`;
            currentPath.setAttribute("points", points);
        }

        // 그리기 종료 함수
        function stopDrawing() {
            drawing = false;
        }

        // Flutter 호출 함수
        function resetDrawTimer() {
            if (!callFlutter) {
                console.log(callFlutter);
                callFlutter = true;
                window.drawCanvas.postMessage(JSON.stringify({
                    data: 'draw'
                }));
            }
        }

        // 줌 처리 함수
        function handleZoom(e) {
            if (e.touches.length === 2) {
                let dx = e.touches[0].clientX - e.touches[1].clientX;
                let dy = e.touches[0].clientY - e.touches[1].clientY;
                let distance = Math.sqrt(dx * dx + dy * dy);

                if (lastDistance !== 0) {
                    let delta = distance - lastDistance;
                    scale += delta * 0.005; // 줌 속도
                    scale = Math.max(1.0, Math.min(2.5, scale)); // 줌 한계 (0.5배 ~ 3배)
                    svg.setAttribute("style", `transform: scale(${scale})`);
                }

                lastDistance = distance; // 마지막 거리 업데이트
                e.preventDefault(); // 기본 동작(스크롤 등)을 막음
            }
        }

        // 첫 번째 터치 시 초기화
        function handleTouchStart(e) {
            if (e.touches.length === 2) {
                let dx = e.touches[0].clientX - e.touches[1].clientX;
                let dy = e.touches[0].clientY - e.touches[1].clientY;
                lastDistance = Math.sqrt(dx * dx + dy * dy); // 초기 거리 계산
            }
        }

        // 터치 끝날 때
        function handleTouchEnd(e) {
            if (e.touches.length < 2) {
                lastDistance = 0; // 두 손가락이 하나로 떨어지면 초기화
            }
        }

        // 드래그 이동 함수
        function handleMouseDown(e) {
            isDragging = true;
            currentX = e.clientX;
            currentY = e.clientY;
            svg.style.cursor = 'grabbing';
        }

        function handleMouseMove(e) {
            if (!isDragging) return;

            const dx = e.clientX - currentX;
            const dy = e.clientY - currentY;
            currentX = e.clientX;
            currentY = e.clientY;

            const transform = svg.getAttribute('transform') || 'translate(0, 0)';
            const regex = /translate\((-?\d+), (-?\d+)\)/;
            const match = transform.match(regex);

            const newX = (match ? parseInt(match[1]) : 0) + dx;
            const newY = (match ? parseInt(match[2]) : 0) + dy;
            svg.setAttribute('transform', `translate(${newX}, ${newY})`);
        }

        function handleMouseUp() {
            isDragging = false;
            svg.style.cursor = 'grab';
        }

        function handleMouseLeave() {
            isDragging = false;
            svg.style.cursor = 'grab';
        }

        // 마우스 이벤트 리스너
        svg.addEventListener("mousedown", startDrawing);
        svg.addEventListener("mousemove", moveDrawing);
        svg.addEventListener("mouseup", stopDrawing);
        svg.addEventListener("mouseleave", stopDrawing);

        // 터치 이벤트 리스너
        svg.addEventListener("touchstart", function (e) {
            if (e.touches.length === 1) {
                startDrawing(e); // 한 손가락으로 그리기 시작
            } else if (e.touches.length === 2) {
                handleTouchStart(e); // 두 손가락 줌 시작
            }
        });

        svg.addEventListener("touchmove", function (e) {
            if (e.touches.length === 1) {
                moveDrawing(e); // 한 손가락으로 그리기 이동
            } else if (e.touches.length === 2) {
                handleZoom(e); // 두 손가락 줌 처리
            }
        });

        svg.addEventListener("touchend", function (e) {
            stopDrawing(); // 그리기 종료
            handleTouchEnd(e); // 두 손가락 처리 종료
        });
    </script>
</body>

</html>